const a0_0x580c05=a0_0x1306;(function(_0x314747,_0x375dfa){const _0x4a41f3=a0_0x1306,_0x431431=_0x314747();while(!![]){try{const _0x2b6224=-parseInt(_0x4a41f3(0x1b0))/0x1*(-parseInt(_0x4a41f3(0x1b5))/0x2)+-parseInt(_0x4a41f3(0x16b))/0x3+-parseInt(_0x4a41f3(0x17b))/0x4*(-parseInt(_0x4a41f3(0x211))/0x5)+-parseInt(_0x4a41f3(0xfb))/0x6*(-parseInt(_0x4a41f3(0x205))/0x7)+-parseInt(_0x4a41f3(0x203))/0x8+parseInt(_0x4a41f3(0x11d))/0x9+-parseInt(_0x4a41f3(0x163))/0xa;if(_0x2b6224===_0x375dfa)break;else _0x431431['push'](_0x431431['shift']());}catch(_0x327716){_0x431431['push'](_0x431431['shift']());}}}(a0_0x1cdf,0x79e68));let conn=null,objConnection=null,peerjsPeer=null,gameMode=null,nickname=null,peerId=null,currentPlayerTurn=0x1,isMultiplayerGame=![],opponentCharacter=null,opponentNickname=null,opponentHealth=0x78,opponentMaxHealth=0x78,opponentDefenseModifier=0x1,opponentAttackModifier=0x1,opponentDiscardCount=0x3,selectedCharacter=null,selectCards=!![],attackCards=![];const combinationsData=[{'name':a0_0x580c05(0x19e),'attackName':a0_0x580c05(0x1d6),'damage':0x7d0,'cards':[{'value':'A','suit':'♥','color':'red'},{'value':'K','suit':'♥','color':a0_0x580c05(0x18a)},{'value':'Q','suit':'♥','color':'red'},{'value':'J','suit':'♥','color':'red'},{'value':'10','suit':'♥','color':'red'}]},{'name':'Flush\x20+\x20Sequência','attackName':a0_0x580c05(0xec),'damage':0x258,'cards':[{'value':'5','suit':'♠','color':a0_0x580c05(0x199)},{'value':'6','suit':'♠','color':a0_0x580c05(0x199)},{'value':'7','suit':'♠','color':a0_0x580c05(0x199)},{'value':'8','suit':'♠','color':'black'},{'value':'9','suit':'♠','color':a0_0x580c05(0x199)}]},{'name':a0_0x580c05(0xda),'attackName':a0_0x580c05(0x1ef),'damage':0x15e,'cards':[{'value':'7','suit':'♠','color':a0_0x580c05(0x199)},{'value':'7','suit':'♣','color':a0_0x580c05(0x199)},{'value':'7','suit':'♥','color':a0_0x580c05(0x18a)},{'value':'7','suit':'♦','color':a0_0x580c05(0x18a)}]},{'name':a0_0x580c05(0xf3),'attackName':a0_0x580c05(0x105),'damage':0xa0,'cards':[{'value':'8','suit':'♠','color':a0_0x580c05(0x199)},{'value':'8','suit':'♦','color':'red'},{'value':'8','suit':'♣','color':a0_0x580c05(0x199)},{'value':'K','suit':'♥','color':a0_0x580c05(0x18a)},{'value':'K','suit':'♠','color':'black'}]},{'name':a0_0x580c05(0x1f1),'attackName':'Aurora\x20Celestial','damage':0x6e,'cards':[{'value':'2','suit':'♦','color':a0_0x580c05(0x18a)},{'value':'5','suit':'♦','color':a0_0x580c05(0x18a)},{'value':'9','suit':'♦','color':a0_0x580c05(0x18a)},{'value':'J','suit':'♦','color':a0_0x580c05(0x18a)},{'value':'A','suit':'♦','color':a0_0x580c05(0x18a)}]},{'name':a0_0x580c05(0x10d),'attackName':'Golpe\x20Mortal','damage':0x5a,'cards':[{'value':'3','suit':'♠','color':'black'},{'value':'4','suit':'♥','color':a0_0x580c05(0x18a)},{'value':'5','suit':'♣','color':a0_0x580c05(0x199)},{'value':'6','suit':'♦','color':a0_0x580c05(0x18a)},{'value':'7','suit':'♠','color':a0_0x580c05(0x199)}]},{'name':a0_0x580c05(0xb7),'attackName':a0_0x580c05(0x209),'damage':0x46,'cards':[{'value':'Q','suit':'♠','color':a0_0x580c05(0x199)},{'value':'Q','suit':'♥','color':a0_0x580c05(0x18a)},{'value':'Q','suit':'♣','color':a0_0x580c05(0x199)}]},{'name':a0_0x580c05(0x1f4),'attackName':'Corte\x20Estelar','damage':0x1e,'cards':[{'value':'10','suit':'♠','color':a0_0x580c05(0x199)},{'value':'10','suit':'♦','color':a0_0x580c05(0x18a)},{'value':'4','suit':'♣','color':a0_0x580c05(0x199)},{'value':'4','suit':'♥','color':'red'}]},{'name':a0_0x580c05(0x15f),'attackName':'Corte\x20Duplo','damage':0x14,'cards':[{'value':'J','suit':'♠','color':a0_0x580c05(0x199)},{'value':'J','suit':'♦','color':a0_0x580c05(0x18a)}]},{'name':'Carta\x20Alta','attackName':a0_0x580c05(0x106),'damage':0xa,'cards':[{'value':'A','suit':'♠','color':'black'}]}],enemies=[{'id':0x1,'name':a0_0x580c05(0x1d9),'image':a0_0x580c05(0x10e),'maxHealth':0xfa,'damageRange':[0x5,0xf]},{'id':0x2,'name':'Cavaleiro\x20Negro','image':a0_0x580c05(0x153),'maxHealth':0x2bc,'damageRange':[0x4,0x8]},{'id':0x3,'name':a0_0x580c05(0x118),'image':'assets/images/lith.jpg','maxHealth':0x1c2,'damageRange':[0xa,0x12]},{'id':0x4,'name':a0_0x580c05(0x197),'image':'assets/images/anciao.jpg','maxHealth':0x258,'damageRange':[0xc,0x18]}],playersChar=[{'id':0x1,'type':a0_0x580c05(0x15d),'name':'Executor\x20da\x20Ruína','image':a0_0x580c05(0xba),'description':a0_0x580c05(0x16f),'ability':{'icon':'⚔️','description':a0_0x580c05(0x19c),'class':a0_0x580c05(0xc1),'value':0.35}},{'id':0x2,'type':a0_0x580c05(0x189),'name':'Bastião\x20Imortal','image':'assets/images/warrior_defense.png','description':a0_0x580c05(0x20a),'ability':{'icon':a0_0x580c05(0x1c1),'description':a0_0x580c05(0x1f2),'class':a0_0x580c05(0x1d8),'value':0.35}},{'id':0x3,'type':a0_0x580c05(0x1f5),'name':a0_0x580c05(0x1fd),'image':a0_0x580c05(0xd5),'description':a0_0x580c05(0x114),'ability':{'icon':'💚','description':a0_0x580c05(0x1b3),'class':a0_0x580c05(0x1bc),'value':0.07}}],urlAPi='https://nodejs-production-cd7c.up.railway.app',gameModes=[{'id':0x1,'type':'singleplayer','name':a0_0x580c05(0x140),'image':'assets/images/singleplayer.png','description':a0_0x580c05(0x147),'ability':{'icon':'⚔️','description':'Modo\x20Singleplayer','class':a0_0x580c05(0xc1)},'available':!![]},{'id':0x2,'type':a0_0x580c05(0x1f6),'name':a0_0x580c05(0x1ee),'image':'assets/images/multiplayer.png','description':a0_0x580c05(0x1fc),'ability':{'icon':'👥','description':'Modo\x20Multiplayer','class':a0_0x580c05(0x1d8)},'available':!![]}];let currentEnemyIndex=0x0,currentEnemy={...enemies[currentEnemyIndex]},enemyHealth=currentEnemy['maxHealth'],playerHealth=0x78,playerDiscard=0x3,selectedIndices=[],deck=[],playerHand=[],playerMaxHealth=0x78,playerDefenseModifier=0x1,playerDefenseModifierDamage=0x0,playerAttackModifier=0x1,baseDiscardCount=0x3,isReshuffling=![];const CRITICAL_CHANCE=0.2;let playerDead=![],goGame=![];const values=['2','3','4','5','6','7','8','9','10','J','Q','K','A'],suits=['♠','♣','♥','♦'];function initModeSelection(){const _0x46237e=a0_0x580c05;document[_0x46237e(0xf1)]('character-selection')[_0x46237e(0x111)][_0x46237e(0x108)]='none',document[_0x46237e(0xf1)](_0x46237e(0x1e1))[_0x46237e(0x111)][_0x46237e(0x108)]=_0x46237e(0x123);const _0x32a364=document['getElementById'](_0x46237e(0xd6));_0x32a364[_0x46237e(0x1e9)]='',gameModes[_0x46237e(0x1f7)](_0x59aa8e=>{const _0x134c3a=_0x46237e,_0x4d70fb=document[_0x134c3a(0x13f)](_0x134c3a(0x19f));_0x4d70fb[_0x134c3a(0x202)]=_0x134c3a(0x15c)+(_0x59aa8e[_0x134c3a(0xb2)]?'':_0x134c3a(0x1cf)),_0x59aa8e[_0x134c3a(0xb2)]&&(_0x4d70fb[_0x134c3a(0x179)]=()=>selectGameMode(_0x59aa8e)),_0x4d70fb[_0x134c3a(0x1e9)]=_0x134c3a(0x193)+_0x59aa8e[_0x134c3a(0x151)][_0x134c3a(0x1a0)]+_0x134c3a(0x13b)+_0x59aa8e[_0x134c3a(0x121)]+'\x22\x20alt=\x22'+_0x59aa8e[_0x134c3a(0xb1)]+_0x134c3a(0x1b2)+(!_0x59aa8e['available']?_0x134c3a(0xdc):'')+'\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<h2>'+_0x59aa8e['name']+_0x134c3a(0x18c)+_0x59aa8e[_0x134c3a(0x120)]+_0x134c3a(0x17a)+_0x59aa8e[_0x134c3a(0x151)]['icon']+_0x134c3a(0xef)+_0x59aa8e[_0x134c3a(0x151)][_0x134c3a(0x120)]+_0x134c3a(0xf2),_0x32a364[_0x134c3a(0x1d5)](_0x4d70fb);});}function selectGameMode(_0x284c38){const _0x5baab8=a0_0x580c05;gameMode=_0x284c38[_0x5baab8(0xd1)],_0x284c38['type']===_0x5baab8(0x1f6)?showNicknameModal():(document[_0x5baab8(0xf1)](_0x5baab8(0x1e1))[_0x5baab8(0x111)][_0x5baab8(0x108)]=_0x5baab8(0x198),document['getElementById']('character-selection')[_0x5baab8(0x111)][_0x5baab8(0x108)]=_0x5baab8(0x123),log(_0x5baab8(0xfc)+_0x284c38['name']),initCharacterSelection());}function showNicknameModal(){const _0x5085e1=a0_0x580c05,_0x44738a=document[_0x5085e1(0xf1)](_0x5085e1(0x214));_0x44738a[_0x5085e1(0x111)]['display']=_0x5085e1(0x123),document['getElementById'](_0x5085e1(0x1c7))[_0x5085e1(0x179)]=()=>{const _0x425bc5=_0x5085e1;nickname=document[_0x425bc5(0xf1)](_0x425bc5(0xd8))['value'][_0x425bc5(0x1af)](),!nickname&&(nickname='Jogador'+Math[_0x425bc5(0x1e2)](Math[_0x425bc5(0x20e)]()*0x3e8)),_0x44738a[_0x425bc5(0x111)][_0x425bc5(0x108)]=_0x425bc5(0x198),initializeMultiplayer();};}function initializeMultiplayer(){const _0x1b73f8=a0_0x580c05;document[_0x1b73f8(0xf1)](_0x1b73f8(0xcb))['style'][_0x1b73f8(0x108)]=_0x1b73f8(0x198),document[_0x1b73f8(0xf1)](_0x1b73f8(0x146))[_0x1b73f8(0x111)]['display']=_0x1b73f8(0x198),showLoading(_0x1b73f8(0x1a7)),peerjsPeer=new Peer({'host':_0x1b73f8(0x157),'port':''}),peerjsPeer['on']('open',_0x3ac513=>{const _0x4227b4=_0x1b73f8;peerId=_0x3ac513,log(_0x4227b4(0x208)+_0x3ac513),cadastrar(),hideLoading(),showPlayersModal();}),peerjsPeer['on'](_0x1b73f8(0x1c5),_0x1b3ab8=>{const _0x2f3d1b=_0x1b73f8;hideLoading(),alert(_0x2f3d1b(0xc8)+_0x1b3ab8),console['error'](_0x1b3ab8);}),peerjsPeer['on']('connection',_0x52a522=>{const _0x40d318=_0x1b73f8;excluir(peerId),objConnection=_0x52a522,log(_0x40d318(0x1c4)+_0x52a522['peer']),showLoading(_0x52a522[_0x40d318(0x142)]+_0x40d318(0x184)),_0x52a522['on']('data',_0x140cd2=>{handleMultiplayerData(_0x140cd2);}),_0x52a522['on'](_0x40d318(0x1ae),async function(){hideLoading(),goGame&&showPlayerDisconnectedModal();});});}function showPlayersModal(){const _0x107588=a0_0x580c05,_0x283c23=document['getElementById'](_0x107588(0xcb));_0x283c23[_0x107588(0x111)][_0x107588(0x108)]=_0x107588(0x123),document[_0x107588(0xf1)](_0x107588(0xf0))['onclick']=buscarJogadores,document[_0x107588(0xf1)](_0x107588(0x195))[_0x107588(0x179)]=()=>{const _0x5b437f=_0x107588;_0x283c23[_0x5b437f(0x111)][_0x5b437f(0x108)]='none',excluir(peerId);},buscarJogadores();}async function buscarJogadores(){const _0x5ea789=a0_0x580c05,_0x3b597e=document[_0x5ea789(0xf1)](_0x5ea789(0x11b)),_0x10a43e=document[_0x5ea789(0xf1)](_0x5ea789(0x10c));_0x3b597e[_0x5ea789(0x111)][_0x5ea789(0x108)]='block',_0x10a43e[_0x5ea789(0x1e9)]='';try{const _0x3de02a=await fetch(urlAPi+_0x5ea789(0x1fe),{'method':_0x5ea789(0x129),'headers':{'Content-Type':_0x5ea789(0x144)}});if(!_0x3de02a['ok'])throw new Error(_0x5ea789(0xb4));const _0x220065=await _0x3de02a[_0x5ea789(0xc3)](),_0x1a6d06=_0x220065[_0x5ea789(0x1f9)](_0xd954cd=>_0xd954cd['id']!==peerId);_0x1a6d06['length']===0x0?_0x10a43e[_0x5ea789(0x1e9)]='<li>Nenhum\x20jogador\x20disponível</li>':_0x1a6d06['forEach'](_0x5f0217=>{const _0x2ff912=_0x5ea789,_0x24259c=document[_0x2ff912(0x13f)]('li');_0x24259c['textContent']=_0x5f0217[_0x2ff912(0x169)]+'\x20-\x20ID:\x20'+_0x5f0217['id'],_0x24259c['onclick']=()=>connectToPlayer(_0x5f0217['id']),_0x10a43e[_0x2ff912(0x1d5)](_0x24259c);});}catch(_0x3489fe){_0x10a43e[_0x5ea789(0x1e9)]=_0x5ea789(0x206),console[_0x5ea789(0x1c5)](_0x5ea789(0x1d3),_0x3489fe);}finally{_0x3b597e[_0x5ea789(0x111)][_0x5ea789(0x108)]=_0x5ea789(0x198);}}function connectToPlayer(_0x353b01){const _0x107c55=a0_0x580c05;showLoading(_0x107c55(0x149)),conn=peerjsPeer[_0x107c55(0x180)](_0x353b01),conn['on'](_0x107c55(0x12f),()=>{const _0x29524c=_0x107c55;document['getElementById'](_0x29524c(0xcb))[_0x29524c(0x111)]['display']=_0x29524c(0x198),showLoading('Aguardando\x20o\x20outro\x20jogador\x20aceitar...'),excluir(peerId),conn[_0x29524c(0x186)]({'type':'invite','nickname':nickname});}),conn['on'](_0x107c55(0x20b),_0x56f52d=>{handleMultiplayerData(_0x56f52d);}),conn['on'](_0x107c55(0x1ae),async function(){hideLoading(),goGame?showPlayerDisconnectedModal():(cadastrar(),showPlayersModal());}),document[_0x107c55(0xf1)](_0x107c55(0xbf))[_0x107c55(0x179)]=()=>{const _0x357855=_0x107c55;conn[_0x357855(0x1ae)](),hideLoading(),showPlayersModal();};}function handleMultiplayerData(_0x2b9213){const _0x5ebd0c=a0_0x580c05;switch(_0x2b9213[_0x5ebd0c(0xd1)]){case _0x5ebd0c(0x164):handleInvite(_0x2b9213);break;case'invite-response':handleInviteResponse(_0x2b9213);break;case _0x5ebd0c(0x141):handleCharacterSelected(_0x2b9213);break;case _0x5ebd0c(0xbb):handleGameAction(_0x2b9213);break;case _0x5ebd0c(0x139):handleGameState(_0x2b9213);break;case _0x5ebd0c(0x101):playerHealth=_0x2b9213[_0x5ebd0c(0x177)],opponentHealth=_0x2b9213[_0x5ebd0c(0x1e4)],log(currentEnemy[_0x5ebd0c(0xb1)]+_0x5ebd0c(0x1ed)+_0x2b9213[_0x5ebd0c(0x1cc)]+_0x5ebd0c(0x16c)+_0x2b9213['damage']*0x2+_0x5ebd0c(0x1f0)+(_0x2b9213[_0x5ebd0c(0x1ff)]||'')),log(_0x5ebd0c(0x125)+_0x2b9213['damage']+'\x20de\x20dano'),log(opponentNickname+_0x5ebd0c(0x1b4)+_0x2b9213['damage']+_0x5ebd0c(0xf7)),updateHealth(),applyDamageAnimation(_0x5ebd0c(0x152)),applyDamageAnimation(_0x5ebd0c(0x1be));break;case'turn-order':currentPlayerTurn=_0x2b9213['startingPlayer'],log((currentPlayerTurn==0x1?opponentNickname:nickname)+'\x20começa.'),updateTurnIndicator();break;case _0x5ebd0c(0x10a):playerHealth=_0x2b9213[_0x5ebd0c(0x177)],opponentHealth=_0x2b9213[_0x5ebd0c(0x1e4)];if(_0x2b9213?.[_0x5ebd0c(0xe7)])log(opponentNickname+_0x5ebd0c(0x1d7)+_0x2b9213['message']);playerHealth<=0x0&&(playerDead=!![],log(_0x5ebd0c(0x183)+currentEnemy[_0x5ebd0c(0xb1)]+'!'),setTimeout(()=>{showGameOverModal();},0x5dc));break;}}function handleInvite(_0x57ef3d){const _0x30f60c=a0_0x580c05;document['getElementById'](_0x30f60c(0xcb))[_0x30f60c(0x111)][_0x30f60c(0x108)]=_0x30f60c(0x198);const _0x5565fd=document[_0x30f60c(0xf1)](_0x30f60c(0x146)),_0x3fd39a=document['getElementById'](_0x30f60c(0xb8));_0x3fd39a[_0x30f60c(0xe0)]=_0x57ef3d['nickname']+_0x30f60c(0x15e),_0x5565fd['style'][_0x30f60c(0x108)]='flex',document['getElementById'](_0x30f60c(0x1bf))[_0x30f60c(0x179)]=()=>{const _0x1e68df=_0x30f60c;_0x5565fd[_0x1e68df(0x111)]['display']='none',showLoading(_0x1e68df(0x165)),objConnection['send']({'type':_0x1e68df(0x156),'accepted':!![],'nickname':nickname}),isMultiplayerGame=!![],opponentNickname=_0x57ef3d['nickname'],document[_0x1e68df(0xf1)]('game-mode-selection')['style'][_0x1e68df(0x108)]=_0x1e68df(0x198),document[_0x1e68df(0xf1)]('character-selection')[_0x1e68df(0x111)][_0x1e68df(0x108)]=_0x1e68df(0x123),initCharacterSelection();},document['getElementById']('confirm-no')[_0x30f60c(0x179)]=()=>{const _0x2c1628=_0x30f60c;_0x5565fd[_0x2c1628(0x111)]['display']='none',objConnection[_0x2c1628(0x186)]({'type':_0x2c1628(0x156),'accepted':![]}),objConnection[_0x2c1628(0x1ae)](),cadastrar(),showPlayersModal();};}function handleInviteResponse(_0x5485b8){const _0xf9c250=a0_0x580c05;hideLoading(),_0x5485b8[_0xf9c250(0xe3)]?(isMultiplayerGame=!![],opponentNickname=_0x5485b8[_0xf9c250(0x169)],document[_0xf9c250(0xf1)](_0xf9c250(0x1e1))[_0xf9c250(0x111)][_0xf9c250(0x108)]=_0xf9c250(0x198),document[_0xf9c250(0xf1)](_0xf9c250(0x1d4))[_0xf9c250(0x111)][_0xf9c250(0x108)]='flex',initCharacterSelection()):(showRejectedModal(),showPlayersModal());}function showRejectedModal(){const _0x39e9d1=a0_0x580c05,_0x27dab=document[_0x39e9d1(0xf1)](_0x39e9d1(0x17f)),_0x511055=_0x27dab[_0x39e9d1(0x172)](_0x39e9d1(0xc2));_0x511055['className']=_0x39e9d1(0x1ec),_0x511055[_0x39e9d1(0x1c8)]['add'](_0x39e9d1(0x117)),document[_0x39e9d1(0xf1)](_0x39e9d1(0x1bd))['textContent']=_0x39e9d1(0x138),document[_0x39e9d1(0xf1)]('modal-message')[_0x39e9d1(0xe0)]=_0x39e9d1(0xe4),document[_0x39e9d1(0xf1)]('modal-submessage')['textContent']=_0x39e9d1(0x19a),document['getElementById']('modal-action-button')['textContent']='OK';const _0xa1577d=document[_0x39e9d1(0xf1)](_0x39e9d1(0xf9));_0xa1577d[_0x39e9d1(0x1e9)]='<span\x20class=\x22warning-icon\x22>⚠️</span>',document['getElementById'](_0x39e9d1(0x176))[_0x39e9d1(0x179)]=()=>{const _0x3918bf=_0x39e9d1;_0x27dab[_0x3918bf(0x111)]['display']=_0x3918bf(0x198);},_0x27dab[_0x39e9d1(0x111)][_0x39e9d1(0x108)]=_0x39e9d1(0x123);}function handleCharacterSelected(_0x46295d){const _0x24f1f3=a0_0x580c05;opponentCharacter=_0x46295d[_0x24f1f3(0x1e6)],opponentNickname=_0x46295d[_0x24f1f3(0x169)]||_0x24f1f3(0x1ea);const _0x332fba=document[_0x24f1f3(0xf1)](_0x24f1f3(0x1be));_0x332fba[_0x24f1f3(0x1c8)][_0x24f1f3(0x168)]('hidden');const _0x5646ac=document['getElementById'](_0x24f1f3(0xe9));_0x5646ac['src']=opponentCharacter[_0x24f1f3(0x121)],_0x5646ac[_0x24f1f3(0x1ca)]=opponentCharacter['name'],document['getElementById']('nickPlayer')[_0x24f1f3(0xe0)]=nickname,document[_0x24f1f3(0xf1)](_0x24f1f3(0x1c2))[_0x24f1f3(0xe0)]=opponentNickname,disableSelectedCharacter(opponentCharacter),checkBothPlayersReady();}document[a0_0x580c05(0xf1)](a0_0x580c05(0xe8))[a0_0x580c05(0x179)]=()=>{const _0x4eb8bf=a0_0x580c05;modal[_0x4eb8bf(0x111)][_0x4eb8bf(0x108)]='none',objConnection[_0x4eb8bf(0x186)]({'type':_0x4eb8bf(0x156),'accepted':![],'nickname':nickname}),objConnection[_0x4eb8bf(0x1ae)](),showPlayersModal();};function disableSelectedCharacter(_0x56fe13){const _0x260c83=a0_0x580c05,_0x1850d4=document[_0x260c83(0x1e7)](_0x260c83(0x18b));_0x1850d4['forEach'](_0x5ced6b=>{const _0x5d4e4e=_0x260c83;_0x5ced6b[_0x5d4e4e(0x172)]('h2')[_0x5d4e4e(0xe0)]===_0x56fe13[_0x5d4e4e(0xb1)]&&(_0x5ced6b['classList'][_0x5d4e4e(0x1c9)]('disabled'),_0x5ced6b['onclick']=null);});}function checkBothPlayersReady(){const _0x135e7a=a0_0x580c05;selectedCharacter&&opponentCharacter?(hideLoading(),initGame()):(showLoading(opponentNickname?opponentNickname+_0x135e7a(0x128):_0x135e7a(0x20f)),objConnection&&!selectedCharacter&&(document['getElementById']('character-selection')['style']['display']=_0x135e7a(0x123),hideLoading()));}function handleGameAction(_0x21c204){const _0x55917a=a0_0x580c05;switch(_0x21c204[_0x55917a(0x1ce)]){case'attack':enemyHealth=_0x21c204['enemyHealth'],log(opponentNickname+_0x55917a(0xfd)+_0x21c204['attackName']+_0x55917a(0x212)+_0x21c204[_0x55917a(0x15d)]+_0x55917a(0x1a8)),updateHealth();enemyHealth<=0x0?checkGameOver():_0x21c204[_0x55917a(0x107)]&&setTimeout(()=>enemyCounterAttack(_0x21c204[_0x55917a(0xe5)],_0x21c204[_0x55917a(0x1ff)]),0x3e8);break;case _0x55917a(0x201):log(opponentNickname+_0x55917a(0x1a4)+_0x21c204[_0x55917a(0x1e8)]+_0x55917a(0xb0));break;}}function handleGameState(_0x34c82d){const _0x4d652c=a0_0x580c05;enemyHealth=_0x34c82d['enemyHealth'],currentPlayerTurn=_0x34c82d[_0x4d652c(0x166)],updateHealth(),updateTurnIndicator(),disablePlayerActions();}function handleEnemyAttack(_0x516f7d){const _0x692170=a0_0x580c05;playerHealth=Math['max'](0x0,playerHealth-_0x516f7d[_0x692170(0x15d)]),updateHealth(),log(currentEnemy[_0x692170(0xb1)]+_0x692170(0x181)+_0x516f7d[_0x692170(0x15d)]+_0x692170(0x102)),playerHealth<=0x0?checkGameOver():finishTurn();}function cadastrar(){const _0x58ade2=a0_0x580c05;fetch(urlAPi+_0x58ade2(0x1ba)+encodeURIComponent(nickname)+_0x58ade2(0x16d)+encodeURIComponent(peerId),{'method':_0x58ade2(0x129),'headers':{'Content-Type':_0x58ade2(0x144)}})[_0x58ade2(0x1cd)](_0x3caa0c=>{const _0x5239d5=_0x58ade2;if(!_0x3caa0c['ok'])throw new Error(_0x5239d5(0xb4));return _0x3caa0c[_0x5239d5(0xc3)]();})['then'](_0x40c836=>console[_0x58ade2(0xc5)](_0x40c836['message']))['catch']();}function excluir(_0x591e8d){const _0x6dded6=a0_0x580c05;fetch(urlAPi+_0x6dded6(0xde)+_0x591e8d,{'method':'GET','headers':{'Content-Type':'application/json'}})[_0x6dded6(0x1cd)](_0x5f077c=>{const _0x329724=_0x6dded6;if(!_0x5f077c['ok'])throw new Error(_0x329724(0xb4));return _0x5f077c['json']();})['then'](_0x4dddb2=>console['log'](_0x4dddb2['message']))[_0x6dded6(0xdf)]();}function initCharacterSelection(){const _0x4ec289=a0_0x580c05,_0x35b966=document[_0x4ec289(0xf1)]('character-cards-container');_0x35b966['innerHTML']='',playersChar[_0x4ec289(0x1f7)](_0x565ffe=>{const _0x246ae5=_0x4ec289,_0x39dfcb=document[_0x246ae5(0x13f)](_0x246ae5(0x19f));_0x39dfcb['className']='character-card',_0x39dfcb[_0x246ae5(0x179)]=()=>selectCharacter(_0x565ffe),_0x39dfcb[_0x246ae5(0x1e9)]=_0x246ae5(0x193)+_0x565ffe['type']+'-type\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x565ffe[_0x246ae5(0x121)]+_0x246ae5(0xc4)+_0x565ffe['name']+_0x246ae5(0x167)+_0x565ffe[_0x246ae5(0xb1)]+_0x246ae5(0x18c)+_0x565ffe[_0x246ae5(0x120)]+'</p>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22character-ability\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ability-icon\x22>'+_0x565ffe[_0x246ae5(0x151)][_0x246ae5(0x12a)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x565ffe[_0x246ae5(0x151)]['description']+_0x246ae5(0xf2),_0x35b966['appendChild'](_0x39dfcb);});}function selectCharacter(_0x562907){const _0xb56329=a0_0x580c05;selectedCharacter=_0x562907;if(isMultiplayerGame){showLoading(_0xb56329(0xce));const _0x36f2a6=conn||objConnection;_0x36f2a6[_0xb56329(0x186)]({'type':_0xb56329(0x141),'character':_0x562907,'nickname':nickname}),document[_0xb56329(0xf1)](_0xb56329(0x1d4))[_0xb56329(0x111)][_0xb56329(0x108)]=_0xb56329(0x198),document['getElementById'](_0xb56329(0x13d))[_0xb56329(0xe0)]=nickname;const _0x1316fb=document[_0xb56329(0xf1)]('player-image');_0x1316fb[_0xb56329(0x104)]=_0x562907[_0xb56329(0x121)],_0x1316fb[_0xb56329(0x1ca)]=_0x562907[_0xb56329(0xb1)],checkBothPlayersReady();}else{document[_0xb56329(0xf1)](_0xb56329(0x1d4))[_0xb56329(0x111)][_0xb56329(0x108)]=_0xb56329(0x198),document['getElementById']('nickPlayer')[_0xb56329(0xe0)]=_0x562907['name'];const _0x4f47d1=document[_0xb56329(0xf1)]('player-image');_0x4f47d1[_0xb56329(0x104)]=_0x562907[_0xb56329(0x121)],_0x4f47d1[_0xb56329(0x1ca)]=_0x562907[_0xb56329(0xb1)],initGame();}log('Personagem\x20selecionado:\x20'+_0x562907[_0xb56329(0xb1)]);}function initGame(){const _0x3920e0=a0_0x580c05;hideLoading(),showCombinationsTable();if(isMultiplayerGame){goGame=!![];const _0xd4595d=!!conn;_0xd4595d?(currentPlayerTurn=Math[_0x3920e0(0x20e)]()<0.5?0x1:0x2,conn['send']({'type':_0x3920e0(0x19b),'startingPlayer':currentPlayerTurn}),log(_0x3920e0(0x143)+currentPlayerTurn+'\x20começa.')):log(_0x3920e0(0x148));updateTurnIndicator();const _0x1837da=document[_0x3920e0(0xf1)](_0x3920e0(0x1be));_0x1837da['classList'][_0x3920e0(0x168)]('hidden'),currentEnemy={...enemies[currentEnemyIndex]},enemyHealth=currentEnemy['maxHealth']*0x2;}else currentPlayerTurn='player',updateTurnIndicator(),currentEnemy={...enemies[currentEnemyIndex]},enemyHealth=currentEnemy['maxHealth'];renderEnemyTrack(),startBattle();}function updateTurnIndicator(){const _0x5d2964=a0_0x580c05,_0x1200b2=document[_0x5d2964(0xf1)]('turn-indicator');console['log'](_0x5d2964(0x166),currentPlayerTurn);if(isMultiplayerGame){const _0x4d6f03=!!conn,_0x4dc17b=_0x4d6f03?0x1:0x2;if(currentPlayerTurn===_0x4dc17b)_0x1200b2['textContent']=_0x5d2964(0xcd),_0x1200b2[_0x5d2964(0x202)]=_0x5d2964(0x113),enablePlayerActions();else currentPlayerTurn==='monster'?(_0x1200b2['textContent']=_0x5d2964(0xd4),_0x1200b2[_0x5d2964(0x202)]='turn-indicator\x20monster-turn',disablePlayerActions()):(_0x1200b2['textContent']=_0x5d2964(0x115)+opponentNickname,_0x1200b2['className']=_0x5d2964(0xbd),disablePlayerActions());}else currentPlayerTurn===_0x5d2964(0x1a3)?(_0x1200b2[_0x5d2964(0xe0)]='SUA\x20VEZ',_0x1200b2['className']=_0x5d2964(0x113),enablePlayerActions()):(_0x1200b2[_0x5d2964(0xe0)]=_0x5d2964(0xd4),_0x1200b2[_0x5d2964(0x202)]=_0x5d2964(0xb6),disablePlayerActions());}function playHand(){const _0x854ad1=a0_0x580c05;if(selectedIndices[_0x854ad1(0x1ab)]===0x0||playerDead||selectCards)return;const _0x17c2b6=selectedIndices[_0x854ad1(0x155)](_0x3b434=>playerHand[_0x3b434]),_0x119550=evaluateHand(_0x17c2b6),_0xf7a377=_0x17c2b6[_0x854ad1(0x1f9)](_0x565430=>_0x565430[_0x854ad1(0xd9)]),_0x9712dc=_0xf7a377['length'];let _0x2c1bc5=Math[_0x854ad1(0x1e2)](_0x119550[_0x854ad1(0x15d)]*playerAttackModifier),_0x3960d7='';switch(selectedCharacter[_0x854ad1(0x151)][_0x854ad1(0x1a0)]){case _0x854ad1(0xc1):_0x2c1bc5=Math[_0x854ad1(0x1e2)](_0x2c1bc5*(0x1+_0x9712dc*selectedCharacter[_0x854ad1(0x151)][_0x854ad1(0x17d)])),_0x3960d7='⚔️\x20'+_0x9712dc+_0x854ad1(0x178)+_0x9712dc*(selectedCharacter[_0x854ad1(0x151)][_0x854ad1(0x17d)]*0x64)+'%\x20de\x20dano';break;case _0x854ad1(0x1bc):const _0x3b660f=Math[_0x854ad1(0x1e2)](playerMaxHealth*selectedCharacter['ability']['value']*_0x9712dc);playerHealth=Math[_0x854ad1(0x161)](playerHealth+_0x3b660f,playerMaxHealth),_0x3960d7=_0x854ad1(0xf5)+_0x9712dc+'\x20carta(s)\x20crítica(s)!\x20Cura\x20de\x20'+_0x9712dc*(selectedCharacter['ability'][_0x854ad1(0x17d)]*0x64)[_0x854ad1(0x1f3)](0x0)+_0x854ad1(0x13e),updateHealth();break;case _0x854ad1(0x1d8):playerDefenseModifierDamage=_0x9712dc*selectedCharacter['ability'][_0x854ad1(0x17d)],_0x3960d7=_0x854ad1(0x1e5)+_0x9712dc+_0x854ad1(0x1b1)+_0x9712dc*(selectedCharacter[_0x854ad1(0x151)][_0x854ad1(0x17d)]*0x64)+'%';break;}_0x3960d7=_0x9712dc>0x0?_0x3960d7:'',log(_0x3960d7),enemyHealth-=_0x2c1bc5,log(selectedCharacter[_0x854ad1(0xb1)]+'\x20usou\x20'+_0x119550[_0x854ad1(0xb1)]+_0x854ad1(0x212)+_0x2c1bc5+_0x854ad1(0xf7));if(isMultiplayerGame){const _0x1290e9=conn||objConnection;_0x1290e9[_0x854ad1(0x186)]({'type':_0x854ad1(0xbb),'action':'attack','damage':_0x2c1bc5,'attackName':_0x119550[_0x854ad1(0xb1)],'enemyHealth':enemyHealth,'isLocalAction':!![],'defenseModifier':playerDefenseModifierDamage,'defenseMessage':_0x3960d7}),currentPlayerTurn=currentPlayerTurn===0x1?0x2:0x1,_0x1290e9[_0x854ad1(0x186)]({'type':'game-state','enemyHealth':enemyHealth,'currentPlayerTurn':currentPlayerTurn});}const _0x2edad4=()=>{const _0x55cf6f=_0x854ad1;applyDamageAnimation(_0x55cf6f(0x124)),enemyHealth>0x0?!isMultiplayerGame&&setTimeout(enemyCounterAttack,0x1f4):checkGameOver(),updateHealth();};if(_0x119550[_0x854ad1(0xb1)]===_0x854ad1(0x1d6))showSpecialAttackAnimation()['then'](_0x2edad4);else _0x9712dc>0x0?showCriticalAttackAnimation(_0x9712dc)[_0x854ad1(0x1cd)](_0x2edad4):setTimeout(_0x2edad4,0x320);finishTurn();}function playDiscard(){const _0x4a3ba6=a0_0x580c05;if(selectedIndices[_0x4a3ba6(0x1ab)]===0x0||isReshuffling||playerDiscard<=0x0)return;try{isReshuffling=!![],disablePlayerActions(),selectedIndices[_0x4a3ba6(0x1b8)]((_0x3c0068,_0x2ca12b)=>_0x2ca12b-_0x3c0068),selectedIndices['forEach'](_0x29d764=>{const _0x1a122c=_0x4a3ba6;playerHand[_0x1a122c(0x12d)](_0x29d764,0x1);}),playerDiscard--,document[_0x4a3ba6(0xf1)](_0x4a3ba6(0x1a9))[_0x4a3ba6(0xe0)]=playerDiscard;if(isMultiplayerGame){const _0x4f39cc=conn||objConnection;_0x4f39cc['send']({'type':_0x4a3ba6(0xbb),'action':_0x4a3ba6(0x201),'count':selectedIndices[_0x4a3ba6(0x1ab)]});}const _0x242cb1=0x7-playerHand[_0x4a3ba6(0x1ab)];_0x242cb1>0x0?deck[_0x4a3ba6(0x1ab)]<_0x242cb1?reshuffleDeck()[_0x4a3ba6(0x1cd)](()=>{drawNewCards(_0x242cb1),renderHand(),enablePlayerActions(),isReshuffling=![];}):(drawNewCards(_0x242cb1),renderHand(),enablePlayerActions(),isReshuffling=![]):(renderHand(),enablePlayerActions(),isReshuffling=![]),log(_0x4a3ba6(0x171)+playerDiscard);}catch(_0xe78304){console['error'](_0x4a3ba6(0x112),_0xe78304),isReshuffling=![],enablePlayerActions();}}function enemyCounterAttack(_0x2edf19=playerDefenseModifierDamage,_0x1e861a=''){const _0x53b252=a0_0x580c05,[_0x252ac0,_0x15576f]=currentEnemy['damageRange'];let _0x29508a=Math['floor'](Math[_0x53b252(0x20e)]()*(_0x15576f-_0x252ac0+0x1))+_0x252ac0;const _0x30ac1c=_0x29508a;let _0x4f73aa=_0x1e861a;if(playerDefenseModifier!==0x1||_0x2edf19!==0x0){const _0x541a3e=_0x29508a;_0x2edf19=playerDefenseModifier-_0x2edf19,_0x29508a=Math[_0x53b252(0x11e)](0x0,Math[_0x53b252(0x1e2)](_0x29508a*_0x2edf19));const _0x3e1059=_0x541a3e-_0x29508a;_0x4f73aa=_0x53b252(0x20d)+_0x3e1059+_0x53b252(0x1c3);const _0x5b6884=_0x2edf19;playerDefenseModifierDamage=0x0,selectedCharacter[_0x53b252(0x151)][_0x53b252(0x1a0)]===_0x53b252(0x1d8)&&showShieldEffect(_0x5b6884);}if(isMultiplayerGame){const _0x2b02e3=Math[_0x53b252(0x1e2)](_0x29508a*1.7)[_0x53b252(0x1f3)](0x0);playerHealth=Math[_0x53b252(0x11e)](0x0,playerHealth-_0x2b02e3),opponentHealth=Math[_0x53b252(0x11e)](0x0,opponentHealth-_0x2b02e3);const _0x30a073=conn||objConnection;_0x30a073[_0x53b252(0x186)]({'type':'enemy-attack','damage':_0x2b02e3,'playerHealth':playerHealth,'opponentHealth':opponentHealth,'originalDamage':_0x30ac1c,'defenseMessage':_0x4f73aa}),log(currentEnemy[_0x53b252(0xb1)]+_0x53b252(0x1ed)+_0x30ac1c+'\x20→\x20'+_0x29508a+_0x53b252(0x1f0)),log(_0x53b252(0x125)+_0x2b02e3+_0x53b252(0xf7)),log(opponentNickname+_0x53b252(0x1b4)+_0x2b02e3+_0x53b252(0xf7));}else playerHealth=Math[_0x53b252(0x11e)](0x0,playerHealth-_0x29508a),log(currentEnemy['name']+_0x53b252(0x213)+_0x30ac1c+_0x53b252(0x16c)+_0x29508a+_0x53b252(0x1f0)+_0x4f73aa);updateHealth(),applyDamageAnimation(_0x53b252(0x152)),isMultiplayerGame&&applyDamageAnimation(_0x53b252(0x1be)),createEnemyAttackAnimation(),playerHealth<=0x0||isMultiplayerGame&&opponentHealth<=0x0?checkGameOver():finishTurn();}function showShieldEffect(_0x4df76b){const _0x2163ab=a0_0x580c05,_0x24d4fb=document['createElement'](_0x2163ab(0x19f));_0x24d4fb['className']=_0x2163ab(0x130),_0x24d4fb[_0x2163ab(0x1e9)]='-'+Math[_0x2163ab(0x14c)]((0x1-_0x4df76b)*0x64)+'%';const _0x92cb2c=document[_0x2163ab(0xf1)](_0x2163ab(0x152));_0x92cb2c['appendChild'](_0x24d4fb),anime({'targets':_0x24d4fb,'opacity':[0x1,0x0],'translateY':[-0x14,-0x32],'duration':0x3e8,'easing':_0x2163ab(0x136),'complete':()=>_0x24d4fb['remove']()});}function checkGameOver(){const _0x4ab61e=a0_0x580c05;if(playerHealth<=0x0){playerDead=!![],log('Você\x20foi\x20derrotado\x20por\x20'+currentEnemy[_0x4ab61e(0xb1)]+'!'),setTimeout(()=>{showGameOverModal();},0x5dc);if(isMultiplayerGame){const _0x2e4682=conn||objConnection;_0x2e4682[_0x4ab61e(0x186)]({'type':'heal-player','playerHealth':playerHealth,'opponentHealth':playerHealth});}}else{if(enemyHealth<=0x0)log(_0x4ab61e(0xfa)+currentEnemy[_0x4ab61e(0xb1)]+'!'),currentEnemyIndex++,setTimeout(()=>{const _0x5a258a=_0x4ab61e;currentEnemyIndex<enemies[_0x5a258a(0x1ab)]?showRewardScreen():showVictoryModal();},0x3e8);else opponentHealth<=0x0&&(console['log']('a'),setTimeout(()=>{showGameOverModal();},0x5dc));}}function showRewardScreen(){const _0x2f5619=a0_0x580c05,_0x1dadba=document[_0x2f5619(0xf1)]('reward-screen');_0x1dadba[_0x2f5619(0x111)]['display']='flex';const _0x3efdf3=document[_0x2f5619(0x1e7)]('.reward-card');_0x3efdf3['forEach'](_0x1e501b=>_0x1e501b['classList'][_0x2f5619(0x168)]('selected-reward')),_0x3efdf3[0x0][_0x2f5619(0x1c8)][_0x2f5619(0x1c9)](_0x2f5619(0x1d2));}function selectReward(_0xeb01a8){const _0x9f6dd2=a0_0x580c05,_0x43a709=document['getElementById'](_0x9f6dd2(0x162));_0x43a709['style'][_0x9f6dd2(0x108)]=_0x9f6dd2(0x198);let _0x226cd7='';switch(_0xeb01a8){case'heal':const _0x3d27a7=Math[_0x9f6dd2(0x1e2)](playerMaxHealth*0.25);playerHealth=Math['min'](playerHealth+_0x3d27a7,playerMaxHealth),_0x226cd7=nickname+'\x20escolheu\x20cura\x20e\x20recuperou\x20'+_0x3d27a7+'\x20de\x20vida!';break;case _0x9f6dd2(0x189):playerDefenseModifier-=0.15,log(_0x9f6dd2(0xcf));break;case _0x9f6dd2(0x17e):playerAttackModifier+=0.15,log(_0x9f6dd2(0x1f8));break;case _0x9f6dd2(0x201):baseDiscardCount+=0x1,log(_0x9f6dd2(0x11f));break;}if(isMultiplayerGame){const _0x539270=conn||objConnection;_0x539270[_0x9f6dd2(0x186)]({'type':_0x9f6dd2(0x10a),'message':_0x226cd7,'playerHealth':playerHealth,'opponentHealth':playerHealth});}updateHealth(),renderEnemyTrack(),startBattle();}function restartGame(){currentEnemyIndex=0x0,playerHealth=0x78,playerMaxHealth=0x78,playerDefenseModifier=0x1,playerAttackModifier=0x1,baseDiscardCount=0x3,playerDead=![],isMultiplayerGame&&(opponentHealth=0x78,opponentMaxHealth=0x78,opponentDefenseModifier=0x1,opponentAttackModifier=0x1,opponentDiscardCount=0x3),renderEnemyTrack(),startBattle(),log('Uma\x20nova\x20jornada\x20começa...');}function showGameOverModal(){const _0xee5452=a0_0x580c05,_0xf3ecb3=document[_0xee5452(0xf1)](_0xee5452(0x17f)),_0x5c072a=_0xf3ecb3['querySelector'](_0xee5452(0xc2));_0x5c072a[_0xee5452(0x202)]='modal-content',_0x5c072a['classList'][_0xee5452(0x1c9)](_0xee5452(0x16e)),document[_0xee5452(0xf1)](_0xee5452(0x1bd))[_0xee5452(0xe0)]='Fim\x20da\x20Jornada',document['getElementById'](_0xee5452(0x175))['textContent']=_0xee5452(0x1db),document[_0xee5452(0xf1)](_0xee5452(0x116))[_0xee5452(0xe0)]=_0xee5452(0x204),document['getElementById'](_0xee5452(0x176))['textContent']='Reiniciar\x20Jornada';const _0xda5308=document['getElementById']('modal-image');_0xda5308[_0xee5452(0x1e9)]=_0xee5452(0xea),document[_0xee5452(0xf1)](_0xee5452(0x176))[_0xee5452(0x179)]=()=>{const _0x5195bf=_0xee5452;_0xf3ecb3[_0x5195bf(0x111)][_0x5195bf(0x108)]=_0x5195bf(0x198),restartGame();},document[_0xee5452(0xf1)](_0xee5452(0x131))[_0xee5452(0x179)]=()=>{const _0x5ecaf3=_0xee5452;_0xf3ecb3[_0x5ecaf3(0x111)][_0x5ecaf3(0x108)]=_0x5ecaf3(0x198),location[_0x5ecaf3(0xd0)]();},_0xf3ecb3[_0xee5452(0x111)][_0xee5452(0x108)]=_0xee5452(0x123);}function showVictoryModal(){const _0x22eccd=a0_0x580c05,_0x2c4050=document[_0x22eccd(0xf1)](_0x22eccd(0x17f)),_0x1bd4e5=_0x2c4050[_0x22eccd(0x172)](_0x22eccd(0xc2));_0x1bd4e5[_0x22eccd(0x202)]='modal-content',_0x1bd4e5[_0x22eccd(0x1c8)][_0x22eccd(0x1c9)]('victory'),document[_0x22eccd(0xf1)]('modal-title')[_0x22eccd(0xe0)]=_0x22eccd(0xcc),document['getElementById']('modal-message')[_0x22eccd(0xe0)]=_0x22eccd(0xc9),document['getElementById'](_0x22eccd(0x116))[_0x22eccd(0xe0)]='Todos\x20os\x20inimigos\x20foram\x20derrotados.',document[_0x22eccd(0xf1)](_0x22eccd(0x176))['textContent']='Nova\x20Jornada';const _0x3dc087=document['getElementById']('modal-image');_0x3dc087[_0x22eccd(0x1e9)]=_0x22eccd(0x1aa),document[_0x22eccd(0xf1)](_0x22eccd(0x176))['onclick']=()=>{const _0x4092a6=_0x22eccd;_0x2c4050[_0x4092a6(0x111)][_0x4092a6(0x108)]=_0x4092a6(0x198),restartGame();},document['getElementById']('modal-quit-button')[_0x22eccd(0x179)]=()=>{const _0x4b5a05=_0x22eccd;_0x2c4050[_0x4b5a05(0x111)][_0x4b5a05(0x108)]=_0x4b5a05(0x198),location[_0x4b5a05(0xd0)]();},_0x2c4050[_0x22eccd(0x111)][_0x22eccd(0x108)]=_0x22eccd(0x123);}function log(_0x287048){const _0x28ab3d=a0_0x580c05;if(_0x287048==='')return;const _0x2c8faa=document[_0x28ab3d(0xf1)]('log');_0x2c8faa[_0x28ab3d(0x1e9)]+=_0x28ab3d(0x1fb)+_0x287048+_0x28ab3d(0x210),_0x2c8faa[_0x28ab3d(0xf8)]=_0x2c8faa[_0x28ab3d(0x127)];}function enablePlayerActions(){const _0x1e2202=a0_0x580c05;(currentPlayerTurn===0x1&&conn||currentPlayerTurn===0x2&&objConnection||currentPlayerTurn==='player')&&(document['getElementById'](_0x1e2202(0x10f))[_0x1e2202(0x1cf)]=![],document['getElementById'](_0x1e2202(0x137))[_0x1e2202(0x1cf)]=![],document[_0x1e2202(0xf1)](_0x1e2202(0xc6))[_0x1e2202(0x1cf)]=![],document[_0x1e2202(0xf1)]('discard-btn')[_0x1e2202(0x1cf)]=playerDiscard<=0x0,document[_0x1e2202(0xf1)](_0x1e2202(0x10f))[_0x1e2202(0x111)]['opacity']=0x1,document[_0x1e2202(0xf1)](_0x1e2202(0x137))[_0x1e2202(0x111)][_0x1e2202(0x1ad)]=0x1,document['getElementById'](_0x1e2202(0xc6))[_0x1e2202(0x111)][_0x1e2202(0x1ad)]=0x1,document[_0x1e2202(0xf1)](_0x1e2202(0x13c))['style'][_0x1e2202(0x1ad)]=playerDiscard<=0x0?0.5:0x1,selectCards=![]);}function disablePlayerActions(){const _0x22a8bd=a0_0x580c05;document['getElementById'](_0x22a8bd(0x10f))[_0x22a8bd(0x1cf)]=!![],document[_0x22a8bd(0xf1)]('discard-btn')['disabled']=!![],document['getElementById']('sortSuit-btn')[_0x22a8bd(0x1cf)]=!![],document[_0x22a8bd(0xf1)](_0x22a8bd(0xc6))[_0x22a8bd(0x1cf)]=!![],document[_0x22a8bd(0xf1)](_0x22a8bd(0x10f))['style'][_0x22a8bd(0x1ad)]=0.5,document[_0x22a8bd(0xf1)](_0x22a8bd(0x13c))[_0x22a8bd(0x111)]['opacity']=0.5,document[_0x22a8bd(0xf1)]('sortSuit-btn')['style'][_0x22a8bd(0x1ad)]=0.5,document['getElementById']('sortValue-btn')[_0x22a8bd(0x111)][_0x22a8bd(0x1ad)]=0.5,selectCards=!![];}function initializeDeck(){const _0x553b5d=a0_0x580c05;deck=[];for(let _0x3b324c of suits){for(let _0xc881eb of values){const _0x48bd1c={'value':_0xc881eb,'suit':_0x3b324c,'color':_0x3b324c==='♥'||_0x3b324c==='♦'?_0x553b5d(0x18a):_0x553b5d(0x199),'isCritical':Math[_0x553b5d(0x20e)]()<CRITICAL_CHANCE};deck[_0x553b5d(0x1a2)](_0x48bd1c);}}shuffleDeck(deck);}function shuffleDeck(_0x21c2c8){for(let _0x494f44=_0x21c2c8['length']-0x1;_0x494f44>0x0;_0x494f44--){const _0x5af029=Math['floor'](Math['random']()*(_0x494f44+0x1));[_0x21c2c8[_0x494f44],_0x21c2c8[_0x5af029]]=[_0x21c2c8[_0x5af029],_0x21c2c8[_0x494f44]];}}function startBattle(){const _0x288568=a0_0x580c05;currentEnemy={...enemies[currentEnemyIndex]},enemyHealth=currentEnemy[_0x288568(0x14e)],playerDiscard=baseDiscardCount,document[_0x288568(0xf1)](_0x288568(0x1a9))[_0x288568(0x20c)]=playerDiscard,document[_0x288568(0x172)]('#enemy-container\x20.portrait\x20img')[_0x288568(0x104)]=currentEnemy[_0x288568(0x121)];const _0x5a0064=document[_0x288568(0xf1)]('nickMonster');_0x5a0064[_0x288568(0x1e9)]=''+currentEnemy[_0x288568(0xb1)],selectedIndices=[],initializeDeck(),dealCards(),updateHealth(),document[_0x288568(0xf1)]('log')['innerHTML']='',document['getElementById'](_0x288568(0x1a9))[_0x288568(0x20c)]=playerDiscard,log(_0x288568(0x14f)+currentEnemy[_0x288568(0xb1)]+'!'),!isMultiplayerGame?currentPlayerTurn='player':!!conn&&log((currentPlayerTurn==0x1?nickname:opponentNickname)+_0x288568(0x12e)),updateTurnIndicator();}function dealCards(){const _0x43013d=a0_0x580c05;playerHand=[];for(let _0x16b305=0x0;_0x16b305<0x7;_0x16b305++){if(deck[_0x43013d(0x1ab)]===0x0)break;let _0x2cd040=deck['pop']();playerHand[_0x43013d(0x1a2)](setCriticalStatus(_0x2cd040));}renderHand();}function setCriticalStatus(_0x27dfd0){const _0x34ea4f=a0_0x580c05;return!_0x27dfd0['hasOwnProperty'](_0x34ea4f(0xd9))&&(_0x27dfd0[_0x34ea4f(0xd9)]=Math[_0x34ea4f(0x20e)]()<CRITICAL_CHANCE),_0x27dfd0;}function renderHand(){const _0x286f96=a0_0x580c05,_0x175d4d=document[_0x286f96(0xf1)](_0x286f96(0x160));_0x175d4d[_0x286f96(0x1e9)]='',selectedIndices=[],playerHand['forEach']((_0x8f96c7,_0x122140)=>{const _0x10f3e6=_0x286f96,_0x2bfb4e=_0x8f96c7[_0x10f3e6(0xd9)]?_0x10f3e6(0x196)+selectedCharacter[_0x10f3e6(0x151)]['class']:'',_0x26f58f=document[_0x10f3e6(0x13f)](_0x10f3e6(0x19f));_0x26f58f[_0x10f3e6(0x202)]=_0x10f3e6(0x170)+_0x8f96c7[_0x10f3e6(0x1cb)]+'\x20'+_0x2bfb4e,_0x26f58f[_0x10f3e6(0x1e9)]='<div\x20class=\x22card-value\x22>'+_0x8f96c7[_0x10f3e6(0x17d)]+_0x10f3e6(0x19d)+_0x8f96c7[_0x10f3e6(0xbc)]+_0x10f3e6(0x210),_0x26f58f[_0x10f3e6(0xe1)]['index']=_0x122140,_0x26f58f[_0x10f3e6(0x179)]=()=>{toggleCard(_0x122140,_0x26f58f),updateDamagePreview();},_0x175d4d['appendChild'](_0x26f58f);}),updateDamagePreview();}function toggleCard(_0x46a123,_0x36a60e){const _0x39f21a=a0_0x580c05;if(selectCards)return;if(isMultiplayerGame){const _0x882596=!!conn,_0x16e7ac=_0x882596?0x1:0x2;if(currentPlayerTurn!==_0x16e7ac)return;}else{if(currentPlayerTurn!==_0x39f21a(0x1a3))return;}if(currentPlayerTurn==='monster')return;const _0x3dd9df=selectedIndices['indexOf'](_0x46a123),_0x464135=playerHand[_0x46a123];_0x3dd9df===-0x1?selectedIndices[_0x39f21a(0x1ab)]<0x5&&(selectedIndices[_0x39f21a(0x1a2)](_0x46a123),_0x36a60e['classList'][_0x39f21a(0x1c9)]('selected'),_0x464135[_0x39f21a(0xd9)]&&(_0x36a60e[_0x39f21a(0x111)][_0x39f21a(0x1f9)]=_0x39f21a(0x1dd),_0x36a60e[_0x39f21a(0x111)]['transition']='filter\x200.3s\x20ease')):(selectedIndices['splice'](_0x3dd9df,0x1),_0x36a60e[_0x39f21a(0x1c8)][_0x39f21a(0x168)](_0x39f21a(0x145)),_0x464135['isCritical']&&(_0x36a60e[_0x39f21a(0x111)][_0x39f21a(0x1f9)]=_0x39f21a(0x198))),updateDamagePreview();}function updateDamagePreview(){const _0x3406fd=a0_0x580c05,_0x14d9cb=document[_0x3406fd(0xf1)]('damage-preview');if(selectedIndices[_0x3406fd(0x1ab)]===0x0)_0x14d9cb[_0x3406fd(0xe0)]=_0x3406fd(0x17c);else{const _0x1d6f1f=selectedIndices[_0x3406fd(0x155)](_0x51c55c=>playerHand[_0x51c55c]),_0x1a38cc=evaluateHand(_0x1d6f1f),_0xdd1ea2=_0x1d6f1f[_0x3406fd(0x1f9)](_0x63756c=>_0x63756c['isCritical'])[_0x3406fd(0x1ab)];let _0x34b6d9=Math[_0x3406fd(0x1e2)](_0x1a38cc[_0x3406fd(0x15d)]*playerAttackModifier),_0x6ae1d4=_0x3406fd(0x192)+_0x1a38cc[_0x3406fd(0xb1)]+'\x20|\x20Damage:\x20'+_0x34b6d9+_0x3406fd(0x14b)+(_0xdd1ea2>0x0?_0x3406fd(0x109)+selectedCharacter['ability'][_0x3406fd(0x12a)]+'\x20'+(_0xdd1ea2*(selectedCharacter[_0x3406fd(0x151)][_0x3406fd(0x17d)]*0x64))[_0x3406fd(0x1f3)](0x0)+_0x3406fd(0x10b):'');if(selectedCharacter[_0x3406fd(0x151)]['class']===_0x3406fd(0xc1)){const _0x4ef315=Math[_0x3406fd(0x1e2)](_0x34b6d9*(0x1+Math[_0x3406fd(0x161)](_0xdd1ea2,0x5)*selectedCharacter[_0x3406fd(0x151)][_0x3406fd(0x17d)]));_0x6ae1d4+='\x20|\x20Dano\x20Total:\x20'+_0x4ef315;}_0x14d9cb[_0x3406fd(0xe0)]=_0x6ae1d4;}}function evaluateHand(_0x3aebce){const _0x5c6150=a0_0x580c05,_0x2e5f86={},_0x5bbc6e={};_0x3aebce['forEach'](_0x122a82=>{const _0x11bc8d=a0_0x1306;_0x2e5f86[_0x122a82[_0x11bc8d(0x17d)]]=(_0x2e5f86[_0x122a82[_0x11bc8d(0x17d)]]||0x0)+0x1,_0x5bbc6e[_0x122a82[_0x11bc8d(0xbc)]]=(_0x5bbc6e[_0x122a82[_0x11bc8d(0xbc)]]||0x0)+0x1;});const _0xabe9d1=Object['values'](_0x2e5f86)[_0x5c6150(0x1f9)](_0x5c90ae=>_0x5c90ae===0x2)[_0x5c6150(0x1ab)],_0x1ee170=Object[_0x5c6150(0x14d)](_0x2e5f86)[_0x5c6150(0x1f9)](_0x5cca14=>_0x5cca14===0x3)['length'],_0x5cf92d=Object['values'](_0x2e5f86)[_0x5c6150(0x1f9)](_0xf3e887=>_0xf3e887===0x4)[_0x5c6150(0x1ab)],_0xb74e83=Object['values'](_0x5bbc6e)[_0x5c6150(0x1c0)](_0x53e5ef=>_0x53e5ef>=0x5),_0x8860ba=checkStraight(_0x2e5f86),_0x1bbbd8=Object[_0x5c6150(0x1b9)](_0x2e5f86)[_0x5c6150(0x155)](_0x43aaab=>{if(_0x43aaab==='A')return 0xe;if(_0x43aaab==='K')return 0xd;if(_0x43aaab==='Q')return 0xc;if(_0x43aaab==='J')return 0xb;if(_0x43aaab==='10')return 0xa;return parseInt(_0x43aaab);})['sort']((_0x40da97,_0x2a9062)=>_0x40da97-_0x2a9062),_0x5ac5a3=_0x1bbbd8[_0x5c6150(0x1ab)]>=0x5&&(_0x1bbbd8[_0x1bbbd8['length']-0x1]-_0x1bbbd8[_0x1bbbd8['length']-0x5]===0x4||_0x1bbbd8['includes'](0xe)&&_0x1bbbd8[_0x5c6150(0x187)](0x2)&&_0x1bbbd8[_0x5c6150(0x187)](0x3)&&_0x1bbbd8[_0x5c6150(0x187)](0x4)&&_0x1bbbd8['includes'](0x5)),_0x192eca=_0xb74e83&&_0x1bbbd8['includes'](0xa)&&_0x1bbbd8[_0x5c6150(0x187)](0xb)&&_0x1bbbd8[_0x5c6150(0x187)](0xc)&&_0x1bbbd8[_0x5c6150(0x187)](0xd)&&_0x1bbbd8[_0x5c6150(0x187)](0xe),_0x14ce64=_0xb74e83&&_0x5ac5a3&&!_0x192eca;if(_0x192eca)return{'name':'Yagai\x20夜ガイ','damage':Math[_0x5c6150(0x1e2)](0x7d0*playerAttackModifier)};if(_0x5cf92d)return{'name':_0x5c6150(0x1ef),'damage':Math[_0x5c6150(0x1e2)](0x15e*playerAttackModifier)};if(_0x1ee170&&_0xabe9d1)return{'name':'Cataclismo\x20Celestial','damage':Math[_0x5c6150(0x1e2)](0xa0*playerAttackModifier)};if(_0x14ce64)return{'name':'Fúria\x20do\x20Conquistador','damage':Math['floor'](0x258*playerAttackModifier)};if(_0xb74e83)return{'name':'Aurora\x20Celestial','damage':Math['floor'](0x6e*playerAttackModifier)};if(_0x8860ba)return{'name':_0x5c6150(0xb5),'damage':Math[_0x5c6150(0x1e2)](0x5a*playerAttackModifier)};if(_0x1ee170)return{'name':_0x5c6150(0x209),'damage':Math[_0x5c6150(0x1e2)](0x46*playerAttackModifier)};if(_0xabe9d1===0x2)return{'name':'Corte\x20Estelar','damage':Math[_0x5c6150(0x1e2)](0x1e*playerAttackModifier)};if(_0xabe9d1===0x1)return{'name':_0x5c6150(0xb9),'damage':Math[_0x5c6150(0x1e2)](0x14*playerAttackModifier)};return{'name':_0x5c6150(0x106),'damage':Math['floor'](0xa*playerAttackModifier)};}function checkStraight(_0x421d89){const _0x32c6b7=a0_0x580c05,_0x16406b=['2','3','4','5','6','7','8','9','10','J','Q','K','A'],_0x3512e3=_0x16406b[_0x32c6b7(0xdd)]((_0x2bee41,_0x252429,_0x1c12ba)=>{if(_0x421d89[_0x252429])_0x2bee41['push'](_0x1c12ba);return _0x2bee41;},[]);for(let _0x1223b8=0x0;_0x1223b8<=_0x3512e3['length']-0x5;_0x1223b8++){let _0x180109=!![];for(let _0x49a9e3=0x0;_0x49a9e3<0x4;_0x49a9e3++){if(_0x3512e3[_0x1223b8+_0x49a9e3+0x1]!==_0x3512e3[_0x1223b8+_0x49a9e3]+0x1){_0x180109=![];break;}}if(_0x180109)return!![];}if(_0x421d89['A']&&_0x421d89['2']&&_0x421d89['3']&&_0x421d89['4']&&_0x421d89['5'])return!![];return![];}async function finishTurn(){const _0x5537ef=a0_0x580c05;if(attackCards)return;if(isMultiplayerGame){currentPlayerTurn=currentPlayerTurn===0x1?0x2:0x1;const _0x46aaf2=conn||objConnection;_0x46aaf2[_0x5537ef(0x186)]({'type':_0x5537ef(0x139),'enemyHealth':enemyHealth,'currentPlayerTurn':currentPlayerTurn}),updateTurnIndicator();}selectedIndices[_0x5537ef(0x1b8)]((_0x5d8768,_0x542269)=>_0x542269-_0x5d8768),selectedIndices[_0x5537ef(0x1f7)](_0x5244f7=>{const _0x18318e=_0x5537ef;playerHand[_0x18318e(0x12d)](_0x5244f7,0x1);});const _0x2b4b87=0x7-playerHand[_0x5537ef(0x1ab)];_0x2b4b87>0x0?deck[_0x5537ef(0x1ab)]<_0x2b4b87?(attackCards=!![],await reshuffleDeck(),drawNewCards(_0x2b4b87),console[_0x5537ef(0xc5)](_0x5537ef(0x1b6))):(disablePlayerActions(),drawNewCards(_0x2b4b87)):enablePlayerActions(),updateHealth(),renderHand(),attackCards=![];}async function reshuffleDeck(){const _0x1e600d=a0_0x580c05;await showShuffleAnimation(),initializeDeck();const _0x59f2c9=new Set();playerHand[_0x1e600d(0x1f7)](_0x40d533=>{const _0xf7c3f=_0x1e600d;_0x59f2c9[_0xf7c3f(0x1c9)](''+_0x40d533[_0xf7c3f(0x17d)]+_0x40d533['suit']);});const _0x3a6187=deck['filter'](_0x493504=>{const _0x2fe8db=_0x1e600d;return!_0x59f2c9['has'](''+_0x493504[_0x2fe8db(0x17d)]+_0x493504[_0x2fe8db(0xbc)]);});deck=_0x3a6187,log(_0x1e600d(0x18e));}function drawNewCards(_0x5ffd91){const _0x3ef6a8=a0_0x580c05;for(let _0xbcc41d=0x0;_0xbcc41d<_0x5ffd91;_0xbcc41d++){if(deck['length']===0x0)break;let _0x574762=deck[_0x3ef6a8(0xe6)]();playerHand[_0x3ef6a8(0x1a2)](setCriticalStatus(_0x574762));}}function updateHealth(){const _0x4c52d6=a0_0x580c05;document[_0x4c52d6(0xf1)](_0x4c52d6(0x1df))[_0x4c52d6(0x111)][_0x4c52d6(0x1d1)]=(playerHealth>0x0?playerHealth/playerMaxHealth*0x64:0x0)+'%',document['getElementById']('enemy-health')[_0x4c52d6(0x111)][_0x4c52d6(0x1d1)]=(enemyHealth>0x0?enemyHealth/currentEnemy[_0x4c52d6(0x14e)]*0x64:0x0)+'%',isMultiplayerGame&&opponentCharacter&&(document['getElementById']('player2-health')['style'][_0x4c52d6(0x1d1)]=(opponentHealth>0x0?opponentHealth/opponentMaxHealth*0x64:0x0)+'%');}function renderEnemyTrack(){const _0x529733=a0_0x580c05,_0x380fb8=document[_0x529733(0xf1)](_0x529733(0x132));_0x380fb8[_0x529733(0x1e9)]='',enemies[_0x529733(0x1f7)]((_0x20316c,_0x40df9c)=>{const _0x445b04=_0x529733,_0x36e50e=document[_0x445b04(0x13f)]('div');_0x36e50e[_0x445b04(0x202)]=_0x445b04(0x14a)+(_0x40df9c<currentEnemyIndex?'defeated':_0x40df9c===currentEnemyIndex?_0x445b04(0x1fa):_0x445b04(0x159)),_0x36e50e[_0x445b04(0x1e9)]=_0x445b04(0x135)+_0x20316c[_0x445b04(0x121)]+_0x445b04(0xc4)+_0x20316c[_0x445b04(0xb1)]+_0x445b04(0x188),_0x380fb8[_0x445b04(0x1d5)](_0x36e50e);});}function applyDamageAnimation(_0x1fcfb0){const _0x5e21fa=a0_0x580c05,_0x4e42a9=document[_0x5e21fa(0xf1)](_0x1fcfb0);_0x4e42a9[_0x5e21fa(0x1c8)][_0x5e21fa(0x1c9)]('damage'),setTimeout(()=>{const _0x26f302=_0x5e21fa;_0x4e42a9['classList'][_0x26f302(0x168)]('damage');},0x1f4);}function showSpecialAttackAnimation(){return new Promise(_0x50bdc4=>{const _0x272654=a0_0x1306,_0x146268=document[_0x272654(0xf1)](_0x272654(0x185)),_0x166dfa=document[_0x272654(0xf1)](_0x272654(0xe2)),_0x427a4f=document[_0x272654(0xf1)]('special-attack-beam');_0x146268[_0x272654(0x111)][_0x272654(0x108)]='flex',createEnergyParticles(),_0x166dfa[_0x272654(0x111)][_0x272654(0x133)]=_0x272654(0x198),_0x427a4f[_0x272654(0x111)][_0x272654(0x133)]=_0x272654(0x198),void _0x166dfa[_0x272654(0x12c)],void _0x427a4f[_0x272654(0x12c)],_0x166dfa[_0x272654(0x111)][_0x272654(0x133)]=_0x272654(0x194),_0x427a4f[_0x272654(0x111)]['animation']='specialAttackBeam\x205s\x20forwards',setTimeout(()=>{const _0x484951=_0x272654;_0x146268[_0x484951(0x111)][_0x484951(0x108)]=_0x484951(0x198),_0x50bdc4();},0x1004);});}function createEnergyParticles(){const _0x4eacb1=a0_0x580c05,_0x462023=document[_0x4eacb1(0xf1)]('special-attack-overlay'),_0x6fdfd5=document[_0x4eacb1(0x1e7)](_0x4eacb1(0x1c6));_0x6fdfd5[_0x4eacb1(0x1f7)](_0xd3d703=>_0xd3d703['remove']());for(let _0x41e3f1=0x0;_0x41e3f1<0x32;_0x41e3f1++){const _0x39f34b=document[_0x4eacb1(0x13f)](_0x4eacb1(0x19f));_0x39f34b[_0x4eacb1(0x202)]='energy-particle';const _0x5dbf8f=Math[_0x4eacb1(0x20e)]()*window[_0x4eacb1(0x158)],_0x2ca8f0=Math[_0x4eacb1(0x20e)]()*window[_0x4eacb1(0x173)],_0x219cb9=Math['random']()*0xa+0x5;_0x39f34b['style'][_0x4eacb1(0xdb)]=_0x5dbf8f+'px',_0x39f34b[_0x4eacb1(0x111)][_0x4eacb1(0xeb)]=_0x2ca8f0+'px',_0x39f34b[_0x4eacb1(0x111)][_0x4eacb1(0x1d1)]=_0x219cb9+'px',_0x39f34b['style'][_0x4eacb1(0x13a)]=_0x219cb9+'px';const _0x8537a3=Math[_0x4eacb1(0x20e)]()*0x7d0+0x7d0;_0x39f34b[_0x4eacb1(0x111)][_0x4eacb1(0xf6)]=_0x4eacb1(0x1e3)+_0x8537a3+'ms\x20ease-out',_0x462023[_0x4eacb1(0x1d5)](_0x39f34b),setTimeout(()=>{const _0x16bff2=_0x4eacb1;_0x39f34b['style']['opacity']=_0x16bff2(0x15a),_0x39f34b[_0x16bff2(0x111)]['left']=_0x16bff2(0x100),_0x39f34b[_0x16bff2(0x111)][_0x16bff2(0xeb)]='50%',_0x39f34b[_0x16bff2(0x111)][_0x16bff2(0x1ac)]=_0x16bff2(0xbe),setTimeout(()=>{const _0x562926=_0x16bff2;_0x39f34b[_0x562926(0x168)]();},_0x8537a3);},0x64);}}function showCriticalAttackAnimation(_0x333b88){return new Promise(_0x56b4c5=>{const _0x629fe5=a0_0x1306,_0x3caf82=document[_0x629fe5(0xf1)]('player-container'),_0x215b35=document[_0x629fe5(0x13f)]('div');_0x215b35['className']=_0x629fe5(0x1e0)+selectedCharacter[_0x629fe5(0x151)]['class'],_0x3caf82[_0x629fe5(0x1d5)](_0x215b35);const _0x30e693=document[_0x629fe5(0x1e7)]('.card.critical.selected');_0x30e693[_0x629fe5(0x1f7)]((_0x5b7d90,_0x3cb78a)=>{const _0x5836e1=_0x629fe5,_0x5ae68b=_0x5b7d90[_0x5836e1(0x1d0)](),_0x308028=0xa+_0x333b88*0x2;for(let _0x1d3837=0x0;_0x1d3837<_0x308028;_0x1d3837++){const _0x2d2950=document[_0x5836e1(0x13f)]('div');_0x2d2950[_0x5836e1(0x202)]=selectedCharacter[_0x5836e1(0x151)]['class']+'-particle',_0x2d2950[_0x5836e1(0x111)][_0x5836e1(0xdb)]=_0x5ae68b['left']+_0x5ae68b[_0x5836e1(0x1d1)]/0x2+'px',_0x2d2950[_0x5836e1(0x111)][_0x5836e1(0xeb)]=_0x5ae68b[_0x5836e1(0xeb)]+_0x5ae68b['height']/0x2+'px',document[_0x5836e1(0x11c)]['appendChild'](_0x2d2950),anime({'targets':_0x2d2950,'left':_0x3caf82[_0x5836e1(0xd7)]+_0x3caf82['offsetWidth']/0x2,'top':_0x3caf82[_0x5836e1(0x1dc)]+_0x3caf82[_0x5836e1(0x12b)]/0x2,'scale':[0x1,0x0],'opacity':[0x1,0x0],'duration':0x320,'delay':anime['random'](0x0,0x12c),'easing':_0x5836e1(0x136),'complete':()=>_0x2d2950[_0x5836e1(0x168)]()});}}),setTimeout(()=>{const _0x4723d9=_0x629fe5;_0x215b35[_0x4723d9(0x168)](),_0x56b4c5();},0x3e8);});}function createEnemyAttackAnimation(){const _0x4544fd=a0_0x580c05,_0x193f6e=document[_0x4544fd(0xf1)](_0x4544fd(0x152)),_0x26d896=_0x193f6e[_0x4544fd(0x1d0)](),_0x4b4945=document[_0x4544fd(0x13f)](_0x4544fd(0x19f));_0x4b4945[_0x4544fd(0x202)]=_0x4544fd(0x200),_0x4b4945[_0x4544fd(0x111)][_0x4544fd(0xdb)]=_0x26d896[_0x4544fd(0xdb)]+_0x26d896[_0x4544fd(0x1d1)]/0x2-0x96+'px',_0x4b4945['style'][_0x4544fd(0xeb)]=_0x26d896['top']+_0x26d896['height']/0x2-0x96+'px',document[_0x4544fd(0x11c)][_0x4544fd(0x1d5)](_0x4b4945),setTimeout(()=>{_0x4b4945['remove']();},0x3e8);}async function showShuffleAnimation(){return new Promise(_0x2ad46c=>{const _0x23107e=a0_0x1306,_0x32173c=['♠','♣','♥','♦'],_0x41817d=['A','K','Q','J','10','9','8'],_0x32a039=document['createElement'](_0x23107e(0x19f));_0x32a039['id']=_0x23107e(0xb3);const _0x1052b4=document[_0x23107e(0x13f)](_0x23107e(0x19f));_0x1052b4['className']=_0x23107e(0x11a),_0x32a039['appendChild'](_0x1052b4);const _0x266f89=document[_0x23107e(0x13f)](_0x23107e(0x19f));_0x266f89['className']=_0x23107e(0xd3);for(let _0x1e917c=0x0;_0x1e917c<0xa;_0x1e917c++){const _0x41ed7b=document['createElement'](_0x23107e(0x19f));_0x41ed7b[_0x23107e(0x202)]=_0x23107e(0x103),_0x41ed7b[_0x23107e(0x111)][_0x23107e(0x1a5)]('--i',_0x1e917c);const _0x4e6c7f=_0x32173c[Math['floor'](Math[_0x23107e(0x20e)]()*_0x32173c[_0x23107e(0x1ab)])],_0x5b824f=_0x41817d[Math['floor'](Math[_0x23107e(0x20e)]()*_0x41817d[_0x23107e(0x1ab)])],_0x4eee87=_0x4e6c7f==='♥'||_0x4e6c7f==='♦';_0x41ed7b[_0x23107e(0x1e9)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-face\x20card-front\x22\x20style=\x22color:\x20'+(_0x4eee87?'#ffd0d0':_0x23107e(0x190))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-value\x22>'+_0x5b824f+_0x23107e(0xff)+_0x4e6c7f+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-suit\x20bottom\x22>'+_0x4e6c7f+_0x23107e(0x15b)+_0x5b824f+_0x23107e(0xc0),_0x266f89[_0x23107e(0x1d5)](_0x41ed7b);}_0x32a039[_0x23107e(0x1d5)](_0x266f89),document['body'][_0x23107e(0x1d5)](_0x32a039),setTimeout(()=>{const _0x4c3ef7=_0x23107e;_0x32a039[_0x4c3ef7(0x168)](),_0x2ad46c();},0xbb8);});}const SUIT_ORDER={'♠':0x1,'♣':0x2,'♥':0x3,'♦':0x4},VALUE_ORDER={0x2:0x2,0x3:0x3,0x4:0x4,0x5:0x5,0x6:0x6,0x7:0x7,0x8:0x8,0x9:0x9,0xa:0xa,'J':0xb,'Q':0xc,'K':0xd,'A':0xe};function a0_0x1306(_0x5eefd0,_0x3e8831){const _0x1cdfc9=a0_0x1cdf();return a0_0x1306=function(_0x1306db,_0x9d1d79){_0x1306db=_0x1306db-0xb0;let _0x7d8d06=_0x1cdfc9[_0x1306db];return _0x7d8d06;},a0_0x1306(_0x5eefd0,_0x3e8831);}function sortBySuit(){const _0x43470a=a0_0x580c05;playerHand['sort']((_0x134d5b,_0x29db1a)=>{const _0x1b4376=a0_0x1306;return SUIT_ORDER[_0x134d5b['suit']]-SUIT_ORDER[_0x29db1a['suit']]||VALUE_ORDER[_0x134d5b[_0x1b4376(0x17d)]]-VALUE_ORDER[_0x29db1a['value']];}),renderHand(),log(_0x43470a(0xca)),animateOrganizeIcon(document[_0x43470a(0x172)](_0x43470a(0x18d)));}function sortByValue(){const _0x283491=a0_0x580c05;playerHand['sort']((_0x2e1c63,_0x2a1cea)=>VALUE_ORDER[_0x2e1c63['value']]-VALUE_ORDER[_0x2a1cea[_0x283491(0x17d)]]),renderHand(),log(_0x283491(0x1eb)),animateOrganizeIcon(document['querySelector'](_0x283491(0x174)));}function animateOrganizeIcon(_0x1a8695){const _0x2ed6bc=a0_0x580c05;anime({'targets':_0x1a8695,'scale':[0x1,1.3,0x1],'duration':0x12c,'easing':_0x2ed6bc(0x110)});}function showCombinationsTable(){const _0x5a855e=a0_0x580c05,_0x2f941a=document[_0x5a855e(0xf1)](_0x5a855e(0x207)),_0x3017bc=document[_0x5a855e(0xf1)]('combinations-body');_0x3017bc[_0x5a855e(0x1e9)]='',combinationsData[_0x5a855e(0x1f7)](_0x4086aa=>{const _0x4f9c39=_0x5a855e,_0x22a07e=document[_0x4f9c39(0x13f)]('tr'),_0x406dd6=document[_0x4f9c39(0x13f)]('td');_0x406dd6['textContent']=_0x4086aa[_0x4f9c39(0xb1)];const _0x2bfdee=document[_0x4f9c39(0x13f)]('td'),_0x179000=document[_0x4f9c39(0x13f)](_0x4f9c39(0x19f));_0x179000['className']='card-examples',_0x4086aa['cards'][_0x4f9c39(0x1f7)](_0x5639e2=>{const _0x129c0a=_0x4f9c39,_0x1fac8d=document['createElement'](_0x129c0a(0x19f));_0x1fac8d[_0x129c0a(0x202)]=_0x129c0a(0x191)+_0x5639e2['color'],_0x1fac8d[_0x129c0a(0x1e9)]=_0x129c0a(0x154)+_0x5639e2[_0x129c0a(0x17d)]+_0x129c0a(0x18f)+_0x5639e2[_0x129c0a(0xbc)]+'</div>\x0a\x20\x20\x20\x20\x20\x20',_0x179000['appendChild'](_0x1fac8d);}),_0x2bfdee[_0x4f9c39(0x1d5)](_0x179000);const _0x59c97e=document[_0x4f9c39(0x13f)]('td');_0x59c97e[_0x4f9c39(0xe0)]=_0x4086aa[_0x4f9c39(0xf4)];const _0x1082db=document[_0x4f9c39(0x13f)]('td');_0x1082db[_0x4f9c39(0x202)]=_0x4f9c39(0x182),_0x1082db[_0x4f9c39(0xe0)]=_0x4086aa[_0x4f9c39(0x15d)],_0x406dd6['setAttribute'](_0x4f9c39(0xed),_0x4f9c39(0x1de)),_0x2bfdee[_0x4f9c39(0x126)](_0x4f9c39(0xed),_0x4f9c39(0xfe)),_0x59c97e[_0x4f9c39(0x126)](_0x4f9c39(0xed),_0x4f9c39(0x1da)),_0x1082db[_0x4f9c39(0x126)](_0x4f9c39(0xed),_0x4f9c39(0x150)),_0x22a07e[_0x4f9c39(0x1d5)](_0x406dd6),_0x22a07e[_0x4f9c39(0x1d5)](_0x2bfdee),_0x22a07e[_0x4f9c39(0x1d5)](_0x59c97e),_0x22a07e[_0x4f9c39(0x1d5)](_0x1082db),_0x3017bc['appendChild'](_0x22a07e);}),_0x2f941a[_0x5a855e(0x111)][_0x5a855e(0x108)]=_0x5a855e(0xee),anime({'targets':'.modal-content','opacity':[0x0,0x1],'scale':[0.9,0x1],'duration':0x12c,'easing':_0x5a855e(0x134)});}function closeCombinationsTable(){const _0x491d3b=a0_0x580c05,_0x3106ad=document[_0x491d3b(0xf1)]('combinations-modal');anime({'targets':_0x491d3b(0xc2),'opacity':[0x1,0x0],'scale':[0x1,0.9],'duration':0xc8,'easing':_0x491d3b(0x1b7),'complete':()=>{const _0x4cfea0=_0x491d3b;_0x3106ad['style'][_0x4cfea0(0x108)]=_0x4cfea0(0x198);}});}window[a0_0x580c05(0x179)]=function(_0x5481e9){const _0x381536=a0_0x580c05,_0xcb1e37=document['getElementById'](_0x381536(0x207));_0x5481e9[_0x381536(0xd2)]==_0xcb1e37&&closeCombinationsTable();};function showLoading(_0x1daaa7='Aguarde...'){const _0x2dad2c=a0_0x580c05,_0x357f64=document[_0x2dad2c(0xf1)](_0x2dad2c(0x119)),_0x542a9=document[_0x2dad2c(0xf1)](_0x2dad2c(0xc7));_0x542a9[_0x2dad2c(0xe0)]=_0x1daaa7,_0x357f64['classList'][_0x2dad2c(0x168)]('hidden');}function a0_0x1cdf(){const _0x330f18=['Ataque','O\x20herói\x20foi\x20derrotado\x20em\x20batalha...','offsetTop','hue-rotate(45deg)\x20brightness(1.2)','Combinação','player-health','player-aura\x20','game-mode-selection','floor','all\x20','opponentHealth','🛡️\x20','character','querySelectorAll','count','innerHTML','Oponente','Cartas\x20organizadas\x20por\x20valor!','modal-content','\x20atacou\x20vocês\x20(','Jornada\x20Cooperativa','Apocalipse\x20do\x20Imperador','\x20dano)','Flush','Defende\x2035%\x20do\x20dano','toFixed','Dois\x20Pares','heal','multiplayer','forEach','Você\x20escolheu\x20ataque\x20e\x20agora\x20causa\x2015%\x20mais\x20dano!','filter','current','<div\x20class=\x22log-entry\x22>','Una\x20forças\x20com\x20outros\x20guerreiros\x20para\x20derrotar\x20inimigos\x20ainda\x20mais\x20poderosos.','Arauto\x20da\x20Ceifa','/buscar','defenseMessage','fire-effect','discard','className','4971264dmKFZR','Todos\x20os\x20progressos\x20serão\x20perdidos.','3351551BoUnae','<li>Erro\x20ao\x20carregar\x20jogadores</li>','combinations-modal','Seu\x20ID:\x20','Trindade\x20Divina','Uma\x20muralha\x20viva\x20de\x20ferro,\x20absorvendo\x20golpes\x20que\x20derrubariam\x20exércitos\x20inteiros.','data','innerText','\x20[Escudo\x20reduziu\x20','random','Aguardando\x20o\x20outro\x20jogador\x20selecionar\x20o\x20personagem...','</div>','60yDRShB','\x20causando\x20','\x20atacou\x20(','nickname-modal','\x20cartas','name','available','shuffle-animation','Erro\x20na\x20requisição','Golpe\x20Mortal','turn-indicator\x20monster-turn','Trinca','confirmation-message','Corte\x20Duplo','assets/images/warrior_damage.png','game-action','suit','turn-indicator\x20opponent-turn','translate(-50%,\x20-50%)','cancel-waiting','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-face\x20card-back\x22></div>\x0a\x20\x20\x20\x20\x20\x20','damage-type','.modal-content','json','\x22\x20alt=\x22','log','sortValue-btn','multiplayer-loading-text','Erro\x20na\x20conexão:\x20','O\x20herói\x20superou\x20todos\x20os\x20desafios!','Cartas\x20organizadas\x20por\x20naipe!','players-modal','Jornada\x20Concluída!','SUA\x20VEZ','Enviando\x20seleção...','Você\x20escolheu\x20defesa\x20e\x20agora\x20recebe\x2015%\x20menos\x20dano!','reload','type','target','shuffle-stage','Vez\x20do\x20Monstro','assets/images/warrior_heal.png','mode-cards-container','offsetLeft','nickname-input','isCritical','Quadra','left','<div\x20class=\x22coming-soon\x22>EM\x20BREVE</div>','reduce','/delete?id=','catch','textContent','dataset','special-attack-text','accepted','O\x20jogador\x20recusou\x20seu\x20convite\x20para\x20a\x20batalha.','defenseModifier','pop','message','confirm-no','player2-image','<span\x20class=\x22defeat-icon\x22>💀</span>','top','Fúria\x20do\x20Conquistador','data-label','block','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span>','refresh-players','getElementById','</span>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Full\x20House','attackName','💚\x20','transition','\x20de\x20dano','scrollTop','modal-image','Você\x20derrotou\x20','6krlCRu','Modo\x20selecionado:\x20','\x20usou\x20','Exemplo','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-suit\x22>','50%','enemy-attack','\x20de\x20dano\x20em\x20você!','shuffle-card','src','Cataclismo\x20Celestial','Corte\x20Rápido','isLocalAction','display','|\x20Skill:\x20(','heal-player','\x20%)','players-list','Sequência','assets/images/dbb.jpg','attack-btn','easeInOutQuad','style','Erro\x20ao\x20descartar:','turn-indicator\x20your-turn','Um\x20servo\x20da\x20morte\x20que\x20transita\x20entre\x20o\x20fim\x20e\x20a\x20renovação,\x20drenando\x20a\x20vida\x20de\x20seus\x20inimigos.','Vez\x20do\x20','modal-submessage','warning','Lich\x20Rei','multiplayer-loading','shuffle-bg-pattern','loading-players','body','205083qRWSLa','max','Você\x20escolheu\x20descarte\x20e\x20agora\x20tem\x20+1\x20descarte\x20por\x20batalha!','description','image','A\x20partida\x20será\x20reiniciada.','flex','enemy-container','Você\x20sofreu\x20','setAttribute','scrollHeight','\x20está\x20selecionando\x20o\x20personagem...','GET','icon','offsetHeight','offsetWidth','splice','\x20começa.','open','shield-effect','modal-quit-button','enemy-track','animation','easeOutQuad','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','easeOutExpo','sortSuit-btn','Convite\x20Recusado','game-state','height','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','discard-btn','nickPlayer','%\x20HP','createElement','Jornada\x20Solitária','character-selected','peer','Você\x20é\x20o\x20Jogador\x201.\x20Sorteio\x20realizado:\x20Jogador\x20','application/json','selected','confirmation-modal','Enfrente\x20os\x20horrores\x20deste\x20mundo\x20sozinho,\x20como\x20um\x20verdadeiro\x20cavaleiro\x20solitário.','Aguardando\x20o\x20outro\x20jogador\x20definir\x20quem\x20começa...','Conectando\x20ao\x20jogador...','enemy-status\x20','\x0a\x20\x20\x20\x20','round','values','maxHealth','Você\x20está\x20enfrentando\x20','Dano','ability','player-container','assets/images/dd.jpg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-value\x22>','map','invite-response','0.peerjs.com','innerWidth','future','0.8','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-value\x22\x20style=\x22text-align:\x20right\x22>','character-card\x20','damage','\x20quer\x20jogar\x20com\x20você.\x20Aceitar?','Um\x20Par','player-hand','min','reward-screen','7607190JxyLCC','invite','Aceitando\x20convite...','currentPlayerTurn','\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<h2>','remove','nickname','Jogador\x20Desconectado','89964LPWHir','\x20→\x20','&id=','defeat','Um\x20guerreiro\x20devastador\x20cujos\x20golpes\x20partem\x20a\x20terra\x20e\x20os\x20inimigos\x20ao\x20meio.','card\x20','Descartes\x20restantes:\x20','querySelector','innerHeight','.organize-icon:nth-child(1)','modal-message','modal-action-button','playerHealth','\x20carta(s)\x20crítica(s)!\x20+','onclick','</p>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22character-ability\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ability-icon\x22>','328868hCdXyT','Selecione\x20cartas\x20para\x20ver\x20o\x20dano\x20potencial','value','attack','game-modal','connect','\x20causou\x20','damage-cell','Você\x20foi\x20derrotado\x20por\x20','\x20quer\x20jogar\x20com\x20você!','special-attack-overlay','send','includes','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','defense','red','.character-card','</h2>\x0a\x20\x20\x20\x20\x20\x20<p>','.organize-icon:nth-child(2)','Baralho\x20reembaralhado\x20sem\x20cartas\x20duplicadas!','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-suit\x22>','#f0f4ff','card-example\x20','Attack:\x20','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22character-portrait\x20','specialAttackText\x205s\x20forwards','close-players','critical\x20','Demônio\x20Ancião','none','black','Você\x20será\x20redirecionado\x20para\x20a\x20lista\x20de\x20jogadores.','turn-order','Críticos\x20+35%','</div><div\x20class=\x22card-suit\x22>','Royal\x20Flush','div','class','<span\x20class=\x22warning-icon\x22>⚠️</span>','push','player','\x20descartou\x20','setProperty','O\x20outro\x20jogador\x20abandonou\x20a\x20partida.','Conectando\x20ao\x20servidor...','\x20de\x20dano!','discard-count','<span\x20class=\x22victory-icon\x22>🏆</span>','length','transform','opacity','close','trim','1KgabAp','\x20carta(s)\x20crítica(s)!\x20Defesa\x20aumentada\x20em\x20','\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Cura\x207%\x20da\x20vida','\x20sofreu\x20','846470rOJRsE','Baralho\x20acabou!','easeInQuad','sort','keys','/cadastro?nickname=','hidden','heal-type','modal-title','player2-container','confirm-yes','some','🛡️','nickPlayer2','\x20de\x20dano]','Conexão\x20recebida\x20de\x20','error','.energy-particle','confirm-nickname','classList','add','alt','color','originalDamage','then','action','disabled','getBoundingClientRect','width','selected-reward','Erro:','character-selection','appendChild','Yagai\x20夜ガイ','\x20jogou:\x20','defense-type','Dragão\x20Jovem'];a0_0x1cdf=function(){return _0x330f18;};return a0_0x1cdf();}function hideLoading(){const _0x11b479=a0_0x580c05,_0x201cd9=document['getElementById']('multiplayer-loading'),_0x4ef8e5=document[_0x11b479(0xf1)](_0x11b479(0xc7));_0x4ef8e5[_0x11b479(0x1c8)][_0x11b479(0x1c9)](_0x11b479(0x1bb)),_0x201cd9[_0x11b479(0x1c8)][_0x11b479(0x1c9)](_0x11b479(0x1bb));}function showPlayerDisconnectedModal(){const _0x9cf043=a0_0x580c05,_0x32cf4b=document[_0x9cf043(0xf1)](_0x9cf043(0x17f)),_0xb5f486=_0x32cf4b[_0x9cf043(0x172)](_0x9cf043(0xc2));_0xb5f486[_0x9cf043(0x202)]=_0x9cf043(0x1ec),_0xb5f486[_0x9cf043(0x1c8)]['add']('warning'),document[_0x9cf043(0xf1)](_0x9cf043(0x1bd))['textContent']=_0x9cf043(0x16a),document[_0x9cf043(0xf1)](_0x9cf043(0x175))[_0x9cf043(0xe0)]=_0x9cf043(0x1a6),document[_0x9cf043(0xf1)]('modal-submessage')[_0x9cf043(0xe0)]=_0x9cf043(0x122),document[_0x9cf043(0xf1)](_0x9cf043(0x176))[_0x9cf043(0xe0)]='OK';const _0x73c7ac=document[_0x9cf043(0xf1)]('modal-image');_0x73c7ac[_0x9cf043(0x1e9)]=_0x9cf043(0x1a1),document[_0x9cf043(0xf1)](_0x9cf043(0x176))['onclick']=()=>{const _0x5b9904=_0x9cf043;_0x32cf4b[_0x5b9904(0x111)][_0x5b9904(0x108)]='none',location[_0x5b9904(0xd0)]();},_0x32cf4b[_0x9cf043(0x111)][_0x9cf043(0x108)]='flex';}initModeSelection();
